# discover-extension-apps-workshop
Find all the resources you need for the Extend workshop for Discover 11/20!

# Extension Apps Workshop: step-by-step instructions

# Prerequisites:

* A free Docusign Developer account
* IDE of choice
* Install the necessary software:
  * Node.js and npm
  * Ngrok

# Step 1: Download and set up the reference implementation

**Note**: If you have not already done so, install the necessary software listed in the prerequisites for this exercise.

* If you are following along with the workshop activity, please download or clone the Data IO reference implementation from GitHub at:
  * [https://github.com/docusign/extension-app-data-io-reference-implementation](https://github.com/docusign/extension-app-data-io-reference-implementation)
* Use the instructions in the README for this project to:
  * Generate secret values and place them in your local .env file
  * Install dependencies and run the app in development mode
  * Start ngrok to receive a public URL that forwards traffic to localhost:3000

# Step 2: Register an extension app on the Developer Console

There are two methods to register your extension app on the Developer console. You can either:

* Prepare the example manifest file locally and upload it to the Developer Console. Or,
* Create a manifest file within the Developer Console using the user-friendly form-based experience.

## To prepare the example manifest file locally

* Edit your local copy of the [manifest.json](https://github.com/docusign/extension-app-data-writeback-reference-implementation-private/blob/main/manifest.json) file.
  * Update all instances of \<PROXY\_BASE\_URL\> to the forwarding address generated by ngrok.
  * Update \<CLIENT\_ID\> and \<CLIENT\_SECRET\> variables with the corresponding environment variables OAUTH\_CLIENT\_ID and OAUTH\_CLIENT\_SECRET respectively.

## To create a manifest within the Developer Console using the form-based experience:

* Navigate to [https://devconsole.docusign.com](https://devconsole.docusign.com)/apps
* Select Create app → Using a form-based experience.
* Fill in the form as follows:
  * Tell us about your app (fill in the following fields as you like):
    * App name
    * Published by
    * Support email
  * Who are you building this for?
    * Select Public.
  * What type of app are you building?
    * Select Data Input Output.
    * Data Input Output Type
      * Select Data Read and Write.
* Select **Create App.**
* Select **Edit your connection, extensions, and actions using the integration details page.**
* **Edit** your Connection.
  * Parameters:
    * Scopes: \[\].
    * Client ID: copy the corresponding OAUTH\_CLIENT\_ID variable from your .env file.
    * Client Secret: copy the corresponding OAUTH\_CLIENT\_SECRET variable from your .env file.
  * Custom Config:
    * Replace the base URL with your ngrok forwarding address for:
      * Authorization URL.
      * Token URL.
* **Save** your connection.
* **Edit** your Data Read & Write extension.
  * Update the Params URI for each action by replacing the base URL with your ngrok forwarding address.
* **Save** your extension.

# Step 3: Test your connection and extensions on the Developer Console

* After saving your manifest on the Developer Console, navigate to the Testing tab for your new extension app.
* Install your extension app to your developer account.
* On the row displaying your connection, click “Run Test”
* Once your connection has been tested successfully, you can execute extension tests.
* Test each extension by clicking “Run Test” and using the instructions from the [README](https://github.com/docusign/extension-app-data-io-reference-implementation?tab=readme-ov-file#extension-tests).

# Step 4: Upload a web form to your Developer account

Use the JSON config files included in this repo to upload the required webforms to your developer account.

* Go to the **Templates** tab in your developer account.
* Select **Start** → **Web Forms** → **Upload Web Form**
* Upload the following web form config files:
  * [Address\_Selection\_Web\_Form.json](Address_Selection_Web_Form.json)
  * [Address\_Details\_Web\_Form.json](Address_Details_Web_Form.json)




# Step 5: Create a Maestro Workflow

Go to the **Agreements** tab in your developer account and select **Maestro Workflows.** Then, select **Create Workflow → Create Workflow**

## Add a workflow starting point

This will determine where your workflow will start from: a link, from within Maestro, or from an API call.

1. Select **Add workflow start** and choose **From wIthin Maestro** from the dropdown.
2. Select **Apply.**

## Collect data with web forms \- Address selection

This step will use [Address\_Selection\_Web\_Form.json](Address_Selection_Web_Form.json) to collect an Address ID from the user. This will be used in the next step to search for a record in your local database that matches the address ID provided.

1. **Add Step** → **Collect Data with Web Forms**
2. Select **Configure**
3. Under **Which form would you like to use?** Select **Address Selection Web Form** from the drop down.
4. Select **Next**
5. Under **Who will participate in this step?** Select **Add Participant** from the drop down.
6. Select **Add Another Participant** from the pop up window.
7. Enter a role name for the participant. For example, “participant1”.
8. **Save** your participant info.
9. Select your newly created participant from the drop down menu under **Who will participate in this step?**
10. Select **Apply.**

## Read from Extension App

This step will search for a record in your local database and save the associated properties as variables in your workflow.

1. Select the \+ icon to **Add a step.**
2. Select **Read from {EXTENSION\_APP\_NAME}**. For example, if you are using the provided example manifest, this will be **Read from Data IO App**.
3. Select **Configure**.
4. Under **Where will you read from?**, use the default connection and select **Address** as the object.
5. Select **Next.**
6. Under **Which record are you reading from?** Select **Add rule**.
7. Configure the rule as follows
   1. Extension App Field: select **Address ID** from the drop down.
   2. Operator: **\=**
   3. Workflow field: select **Collect Data from Web Forms** → **Address ID** from the drop down.
8. Select **Save and Exit.**
9. Select **Next.**
10. Under **Which fields would you like to read?** choose **Select Fields.**
11. Choose **Select All.**
12. Select **Save and Exit.**
13. Select **Apply.**

## Collect data with web forms \- Account details

This step will use [Address\_Details\_Web\_Form.json](Address_Details_Web_Form.json) to collect account details from the user. This web form will be prepopulated with the data obtained in the previous step from your local database.

1. Select the \+ icon to **Add a step.**
2. Select **Collect Data with Web Forms.**
3. Select **Configure.**
4. Under **Which form would you like to use?** Select **Address Details Web Form** from the drop down.
5. Select **Next.**
6. Select your previously created participant from the drop down menu under **Who will participate in this step?**
7. Select **Continue to map data fields →.**
8. For each field listed, choose **Read from extension app** in the dropdown and select the corresponding value.
9. Select **Apply.**

## Writeback to Extension App

1. Select the \+ icon to **Add a step.**
2. Select **Writeback to {EXTENSION\_APP\_NAME}**. For example, if you are using the provided example manifest, this will be **Writeback to Data IO App**.
3. Select **Configure.**
4. Under **Where will you write to?**, use the default connection and select **Address** as the object.
5. Under **Which record are you writing to?** Select **Add rule**.
6. Configure the rule as follows
   1. Extension App Field: select **Address ID** from the drop down.
   2. Operator: **\=**
   3. Workflow field: select **Collect Data from Web Forms 2** → **Address ID** from the drop down.
7. Select **Next.**
8. Under **Which fields are you writing to?** choose **Manage Fields.**
9. Choose **Select All.**
10. Select **Save and Exit.**
11. For each field listed, choose **Collect Data from Web Forms 2** in the dropdown and select the corresponding value.
12. Select **Apply.**

## Add Confirmation Screen

1. Select the \+ icon to **Add a step.**
2. Select **Show a Confirmation Screen.**
3. Select **Configure**
4. Under **Participant who will see messages** select your previously created participant.
5. Select **Apply.**

# Step 6: Publish workflow

Review and publish your workflow.

1. In the upper right corner of the Maestro Workflow Editor, select **Review & Publish.**
2. Name your workflow.
3. If your workflow is valid and ready to publish you should see a green banner with the text “This workflow is ready to publish.
4. Select **Publish.**
5. You should see a pop-up appear on your screen, select **Authorize My Account.**
6. Select **Publish.**
7. Select **Go to Workflows.**

# Step 7: Run workflow

1. Once your workflow has successfully published, click on the menu for your new created workflow and select **Run Workflow.**
2. Name your instance.
3. Follow the instructions in the web forms to fill in the necessary web form fields.

Your records should be updated in your local database.
